>[!danger] GLI ESEMPI FATTI DALLA PROF SONO SBAGLIATI MA SERVONO PER DARTI UN'IDEA

## Modello di dati
Ãˆ un insieme di costrutti utilizzati per organizzare, gestire e rappresentare i dati volti a rappresentare una certa realtÃ .
La componente fondamentale del modello di dati sono i meccanismi di strutturazione o costruttori di tipo.

Esistono due principali categorie di modelli:
1) **MODELLO LOGICO**
	- Utilizzati nei DBMS per organizzare i dati
	- Utilizzati dai programmi  per l'accesso ai dati
	- Non dipendono da come i dati sono memorizzati
		- ESEMPI: relazionale (tabelle e relazioni), gerarchico (dati in strutture ad albero), reticolare (dati collegati in un rete), a oggetti (organizzati come oggetti con attributi e metodi)

2) **MODELLO CONCETTUALE**
	- Rappresentano i dati in modo indipendente da qualsiasi sistema o modello logico
	- Descrivono i concetti del mondo reale
	- Si usano nelle fasi preliminari della progettazione
	- Il piÃ¹ conosciuto Ã¨ il **modello EntitÃ -Relazionale (ER)**

##### Modelli moderni
- **Modello ER Esteso (EER)**: include costrutti avanzati come l'ereditarietÃ .
- **UML (Unified Modeling Language)**: un linguaggio standardizzato per la progettazione dei dati;Â 
- **Modello concettuale**Â â†’ dati e relazioni attraverso uno schema;Â 
- **Modello logico**Â â†’ descrive il modo attraverso il quale i dati sono organizzati negli archivi del calcolatore;Â 
- **Modello fisico**Â â†’ descrive come i dati sono registrati nelle memorie di massa.

### Come si passa da una fase all'altra?
![[Zphoto/GetImage (3).png]]


## Modello ER
Il modello ER Ã¨ uno strumento per descrivere in modo astratto i dati e le loro relazioni. Ãˆ utile perchÃ© ci permette di progettare indipendentemente dal tipo di database o linguaggio che useremo per implementarlo.

#### Concetti chiave del modello ER
##### âœ… EntitÃ 
Un'**entitÃ ** Ã¨ un oggetto del mondo reale che vogliamo rappresentare.
- PuÃ² essereÂ **concreta**Â (es. un'automobile) oÂ **astratta**Â (es. un ordine).Â 
- Esempi di entitÃ :Â 
    - **Persona**Â â†’ Nome, Cognome, EtÃ .Â 
    - **Automobile**Â â†’ Modello, Marca, Numero di Telaio.Â 
    - **Movimenti contabili**Â â†’ Rappresentano le transazioni finanziarie.
- Un **tipo entitÃ ** Ã¨ una categoria di oggetti simili
	- ES. ***Studenti** formano il tipo di entitÃ  **Studente***
- Un'istanza di entitÃ  Ã¨ un singolo oggetto della categoria
	- ES. ***Michael Kaiser** Ã¨ un'istanza dell'entitÃ  **Studente***

Se ci pensi le entitÃ  sono le tabelle.

##### ğŸ”— Relazioni
Una **relazione** rappresenta un collegamento logico tra due o piÃ¹ entitÃ  e definisce come le entitÃ  interagiscono tra loro.
- Esempi di relazione
	- Tra **Persona** e **Automobile** esiste la relazione ***Possedere***
		- una persona *PUÃ’ POSSEDERE* un'automobile
		- un'automobile *DEVE ESSERE POSSEDUTA* da una persona
	- La relazione puÃ² anche essere descritta nell'altro verso
		- ***Essere posseduta*** Ã¨ l'inverso della relazione "Possedere"

Si rappresenta come un **rombo** nel diagramma ER, collegato alle due entitÃ .
![[Zphoto/GetImage (4).png]]

Le relazioni tra 3 entitÃ  si dicono **ternarie**
![[GetImage (5).png|center]]

##### Relazione ricorsiva (o IS-A)
Una relazione Ã¨ **ricorsiva** quando **un'entitÃ  Ã¨ collegata a sÃ© stessa**.
![[Zphoto/GetImage (6).png]]
Nota bene come "genitore", "figlio", "manager" e "collaboratore" sono ISTANZE delle singole **entitÃ **
ğŸ§¾ Esempio pratico:
ID    Nome    Coordina
1    Mario    3
2    Giulia    NULL
3    Luca    2

##### ğŸ”¢ MolteplicitÃ  e CardinalitÃ 
La cardinalitÃ  definisce il numero minimo e massimo di relazioni che un'istanza di un'entitÃ  puÃ² avere con un altra.
Si rappresenta con una coppia di valori:Â (min, max)Â Â 
- **min**Â â†’ Indica la partecipazioneÂ **facoltativa (0**) o **obbligatoria (1)**.Â 
- **max**Â â†’ Indica il numero massimo di associazioni possibili (puÃ² essereÂ 1 o N).Â 

Esempi:Â 
- $(1,1)$Â â†’ L'entitÃ  deve avereÂ **esattamente unÂ collegamento**.Â 
- $(1,N)$Â â†’ L'entitÃ  deve essere collegata adÂ **almeno 1, ma puÃ² avere piÃ¹ connessioni**.Â 
- $(0,1)$Â â†’ L'entitÃ Â **puÃ² essere collegata o no (facoltativa), ma al massimo a una**.Â 
- $(0,N)$Â â†’ L'entitÃ Â **puÃ² non essere collegata o puÃ² avere piÃ¹ connessioni**.

	![[Zphoto/GetImage (11).png]]
	![[Zphoto/GetImage (12).png]]
	- Ogni Direttore gestisce una sola Direzione.Â 
	- Ogni Direzione ha un solo Direttore.Â 
	- Ogni Dipartimento Ã¨ associato a una sola Direzione.Â 
	
	**MolteplicitÃ  (1,1) significa che la relazione Ã¨ esatta**Â â†’ Ogni elemento ha un solo corrispondente nellâ€™altra entitÃ .

	![[Zphoto/GetImage (13).png]]
	- **Ogni istanza di E1**Â Ã¨ collegata aÂ **una o piÃ¹ istanze di E2**.Â 
	- **Ogni istanza di E2**Â Ã¨ collegataÂ **a una sola istanza di E1**.

	***Associazione N:N***
	![[GetImage (13) 1.png]]
	- Un'istanza dell'entitÃ  a sinistra puÃ² essere collegata a piÃ¹ istanze dell'entitÃ  a destra.Â 
	- Un'istanza dell'entitÃ  a destra puÃ² essere collegata a piÃ¹ istanze dell'entitÃ  a sinistra.
###### RIEPIGOLO
![[Zphoto/GetImage (15).png|center]]

##### ğŸ§¾ Attributi
Gli **attributi** rappresentano le proprietÃ  delle entitÃ  o delle relazioni.
- Caratteristiche degli Attributi:Â 
    - **Formato**Â â†’ Il tipo di valore (testo, numero, data, ecc.).Â 
    - **Dimensione**Â â†’ Il numero massimo di caratteri o cifre.Â 
    - **OpzionalitÃ **Â â†’ Se puÃ² essere lasciato vuoto o deve sempre avere un valore.Â 
        Esempio:Â 
        Per l'entitÃ Â Automobile, alcuni possibili attributi sono:Â 
        - Numero telaioÂ (un codice identificativo univoco)Â 
        - ModelloÂ (es. "Fiat Panda").Â 
        - ProduttoreÂ (es. "Fiat").Â 
        - CilindrataÂ (es. "1200 cc").Â 
        - PrezzoÂ (es. "15000 euro").Â 
- Tipologie:Â Â 
    - **Identificativi**: fanno parte della chiave primaria.Â 
    - **Non identificativi**: forniscono solo informazioni aggiuntive.Â 
- Esempio:Â Â 
    - StudenteÂ â†’ Nome, Cognome, Data di Nascita, Matricola.

##### Modello ER- ATTRIBUTI E CHIAVI
La chiave primaria Ã¨ un attributo o un insieme di attributi che identificano univocamente un'istanza dell'entitÃ .
Esempio:
- **Automobile**:Â (numero telaio, modello, produttore, cilindrata, prezzo)Â 
- **Studente**:Â (cognome, nome , data di nascita)
![[Zphoto/GetImage (7).png]]
La chiave primaria Ã¨ la chiave verde (la sbarra orizzontale indica l'unione tra le due chiavi).

##### Attributi delle relazioni
![[Zphoto/GetImage (8).png]]
Gli attributi possono stare anche sulle relazioni.

##### Chiave artificiale
![[Zphoto/GetImage (9).png]]
Qui abbiamo aggiunto l'**id** che non ha un significato reale ma serve per distinguere in modo univoco ogni persona in un database.
L'id viene incrementato automaticamente ogni volta che una nuova persona viene aggiunta nel sistema.


### ProprietÃ  del modello relazionale
Ogni entitÃ  deve avere una **chiave primaria**.

##### Dominio di un attributo
Il dominio definisce quali valori un attributo puÃ² assumere.
Caratteristiche del dominio:
- **Tipo di dato**Â â†’ (numero, testo, data, ecc.).Â 
- **Lunghezza**Â â†’ Quanti caratteri o cifre puÃ² contenere.Â 
- **Intervallo**Â â†’ Quali valori sono accettabili.Â 
- **Vincoli**Â â†’ Regole aggiuntive sui valori (es. "deve essere maggiore di zero").Â 
- **Supporto del valore NULL**Â â†’ Se lâ€™attributo puÃ² essere lasciato vuoto o meno.Â 
- **Valore di default**Â â†’ Valore che viene assegnato automaticamente se non specificato

#### ProprietÃ  delle Chiavi Primarie e Chiavi EsterneÂ 
**Chiave primaria**:Â 
- Deve essereÂ univocaÂ â†’ Non si possono avere due record con lo stesso valore.
- I valori NULL non sono ammessiÂ â†’ Ogni record deve avere una chiave primaria.Â 

**Chiave esterna**:
- Collega una tabella a un'altra (ma questo lo vedrai piÃ¹ avanti).Â 
- Deve avere lo stessoÂ tipo di dato, lunghezza e formatoÂ della chiave primaria a cui si riferisce.Â 
    - Esempio del vigile della scorsa lezione, una chiave che fa riferimento a un'altra chiave.

#### EntitÃ  forti ed entitÃ  deboliÂ 
EntitÃ  fortiÂ â†’ Hanno unaÂ chiave primariaÂ e possono esistereÂ senza dipendere da altre entitÃ .Â 
EntitÃ  deboliÂ â†’Â Non hanno una chiave primariaÂ e devono essere collegate a un'entitÃ  forte per avere senso.
![[Zphoto/GetImage (10).png|center]]Movimento non ha senso se sta da sola deve per forza dipendere da altro;Â 
Unâ€™entitÃ  deboleÂ esiste soloÂ se esiste lâ€™entitÃ  forte a cui Ã¨ collegata.


## Associazione IS-AÂ 
Ãˆ unaÂ relazione di specializzazioneÂ tra due entitÃ , in cui:Â 
- L'entitÃ  figliaÂ Ã¨ un sottoinsieme dell'entitÃ  padre.
- Ogni istanza dell'entitÃ  figliaÂ Ã¨ anche un'istanza dell'entitÃ  padre.Â 
- Esempio:Â 
    - VeicoloÂ (entitÃ  padre)Â Â 
        - AutoÂ (entitÃ  figlia)Â 
        - MotoÂ (entitÃ  figlia)Â 
Ogni auto Ã¨ un veicolo.Â 
Ogni moto Ã¨ un veicolo.Â 
Ma non tutti i veicoli sono auto o moto (potrebbero essere camion, barche, ecc.).
![[Zphoto/GetImage (16).png]]

## Principio di EreditarietÃ Â 
Se unâ€™entitÃ Â figliaÂ Ã¨ collegata a unâ€™entitÃ  padreÂ tramite IS-A, alloraÂ eredita automaticamenteÂ tutte le proprietÃ  della padre.Â 
Non serve ridichiarare gli attributi giÃ  presenti nellâ€™entitÃ  padre nel diagramma ER.Â 
- PersonaÂ ha gli attributiÂ cognomeÂ edÂ etÃ .Â 
- StudenteÂ Ã¨ un tipo diÂ Persona, quindi eredita questi attributiÂ senza doverli riscrivere.Â 
- StudenteÂ puÃ² avere anche attributi propri, comeÂ matricola
![[GetImage (17).png|center]]



